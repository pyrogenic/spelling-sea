(this["webpackJsonpspelling-sea"]=this["webpackJsonpspelling-sea"]||[]).push([[0],{35:function(e,a,t){e.exports=t(48)},40:function(e,a,t){},42:function(e,a,t){},48:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),c=t.n(r),s=(t(40),t(12)),o=t(8),i=t(30),u=t(9),m=t(1),f=t(7),d=t(29),E=t.n(d),p=t(32);function v(){return(v=Object(p.a)(E.a.mark((function e(){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("puzzles.json");case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.t1=console,e.t2=e.t0,e.next=15,fetch("puzzles.json");case 15:return e.next=17,e.sent.text();case 17:return e.t3=e.sent,e.t1.error.call(e.t1,e.t2,e.t3),e.abrupt("return",{});case 20:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}t(42);var b=t(11),h=t.n(b);function y(e,a){var t=h.a.compact(e).join("/"),l=Object(n.useState)(a),r=Object(o.a)(l,2),c=r[0],s=r[1],i=Object(n.useRef)({key:""});return Object(n.useEffect)((function(){return sessionStorage.setItem(i.current.key,JSON.stringify(c))}),[t,c]),[c,s,function(){var e=void 0,n=sessionStorage.getItem(t);if(null!==n)try{e=JSON.parse(n)}catch(l){console.error(l)}void 0===e&&(e="function"===typeof a?a():a),s(e),i.current.key=t}]}var x=t(18),g=t(26),k=t(33),N=t(14),j=["found","alpha","length"],w=["overall","length","distance","cheat"];function z(e){var a,t,n=e.puzzle,r=e.prevPuzzle,c=e.nextPuzzle,d=O(n),E=y([d,"board"],[]),p=Object(o.a)(E,3),v=p[0],b=p[1],g=p[2],k=y([d,"rack"],[]),z=Object(o.a)(k,3),S=z[0],A=z[1],M=z[2],D=l.a.useState(0),F=Object(o.a)(D,2),I=F[0],B=F[1],J=y([d,"words"],[]),U=Object(o.a)(J,3),L=U[0],W=U[1],T=U[2],q=y([d,"fails"],[]),K=Object(o.a)(q,3),$=K[0],G=K[1],H=K[2],Q=y(["order"],"found"),V=Object(o.a)(Q,3),X=V[0],Y=V[1],Z=V[2],_=y(["progress"],"overall"),ee=Object(o.a)(_,3),ae=ee[0],te=ee[1],ne=ee[2];l.a.useRef({done:!1});function le(e){var a=e.key,t=e.code;switch(console.log(e),t){case"Escape":A([]);break;case"Delete":case"Backspace":re();break;case"Return":case"Enter":S.length?fe():ce();break;case"Space":se();break;case"Slash":ce();break;case"ArrowLeft":r();break;case"ArrowRight":c();break;default:ie(a)}}function re(){var e=Object(s.a)(S);e.pop(),A(e)}function ce(){var e=Object(s.a)(h.a.last(L));A(e)}function se(){if(n){for(var e=[],a=Object(s.a)(n.board);a.length>0;){var t=Math.floor(Math.random()*a.length),l=a.splice(t,1)[0];e.push(l),3===e.length&&e.push(n.island)}b(e)}else b([])}l.a.useEffect((function(){g(),M(),T(),H(),Z(),ne()}),[d]),l.a.useEffect((function(){var e={handleEvent:le};return window.addEventListener("keyup",e),window.removeEventListener.bind(window,"keyup",e)})),l.a.useEffect(se,[n,I]);var oe=l.a.useCallback((function(){switch(X){case"found":return L;case"alpha":return Object(s.a)(L).sort()}}),[L,X]);function ie(e){v.includes(e)&&A([].concat(Object(s.a)(S),[e]))}var ue,me,fe=function(){var e=S.join("");if(L.includes(e))alert("Already found!");else if(null===n||void 0===n?void 0:n.words.includes(e))W([].concat(Object(s.a)(L),[e]));else{var a;alert(null!==(a=ue)&&void 0!==a?a:"Not a word!"),G([].concat(Object(s.a)($),[e]))}A([])};return n?S.length<4?(ue="Play",me="Too Short"):S.includes(n.island)?L.includes(S.join(""))?ue="Already Played":$.includes(S.join(""))&&(ue="Already Tried"):ue="No ".concat(n.island.toUpperCase()):ue="No Puzzle",l.a.createElement(i.a,{onMouseDown:function(e){return e.preventDefault()}},l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"flex-fill",onClick:re}),l.a.createElement(m.a,{xs:"auto"},l.a.createElement(f.a,null,l.a.createElement("span",{className:"rack-letter"},"\xa0"),S.map((function(e,a){return l.a.createElement("span",{className:"rack-letter ".concat(e===n.island?"rack-letter-island":""),onClick:function(e){S.splice(a,1),A(Object(s.a)(S))}},e)})),l.a.createElement("span",{className:"rack-letter"},"\xa0"))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill",onClick:re})),n&&l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"board-container"},l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}),l.a.createElement(C,{board:v,play:ie}),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"})),l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}),l.a.createElement(m.a,{xs:"auto"},l.a.createElement(f.a,{className:"mb-2 justify-content-center"},l.a.createElement(u.a,{variant:"primary",disabled:void 0!==ue,title:me,onClick:fe},null!==(a=ue)&&void 0!==a?a:"Play")),l.a.createElement(f.a,null,l.a.createElement(m.a,{xs:"auto",className:"flex-fill"},l.a.createElement(u.a,{size:"sm",variant:"light",onClick:B.bind(null,I+1)},l.a.createElement(N.f,{title:"Shuffle"}))),l.a.createElement(x.a,{as:m.a,xs:"auto"},l.a.createElement(u.a,{size:"lg",variant:"light",disabled:0===S.length,onClick:A.bind(null,[])},l.a.createElement(N.e,{title:"Reset"})),l.a.createElement(u.a,{size:"lg",variant:"light",disabled:0===S.length,onClick:re},l.a.createElement(N.d,{title:"Delete"})),l.a.createElement(u.a,{size:"lg",variant:"light",disabled:0===L.length,onClick:ce},l.a.createElement(N.c,{title:"Ditto"}))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"},l.a.createElement(x.a,null,l.a.createElement(u.a,{size:"sm",variant:"light",onClick:r},l.a.createElement(N.a,{title:"Previous Puzzle"})),l.a.createElement(u.a,{size:"sm",variant:"light",onClick:c},l.a.createElement(N.b,{title:"Next Puzzle"})))))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"},l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}),l.a.createElement(m.a,{xs:"auto"},l.a.createElement(x.a,{size:"sm"},j.map((function(e){return l.a.createElement(u.a,{key:e,variant:X===e?"primary":"outline-primary",onClick:Y.bind(null,e)},e)})))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"})),l.a.createElement(f.a,{className:"word-list"},null===oe||void 0===oe||null===(t=oe())||void 0===t?void 0:t.map((function(e){var a=R(e)?"globetrotter":void 0;if(S.length>0){var t=S.join("");a=e.startsWith(t)?e===t?"already-played":"matches-prefix":"does-not-match-prefix"}return l.a.createElement("div",{key:e,className:a},e)})))),l.a.createElement(m.a,{md:4},l.a.createElement(f.a,{className:"mb-2"},l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}),l.a.createElement(m.a,{xs:"auto"},l.a.createElement(x.a,{size:"sm"},w.map((function(e){return l.a.createElement(u.a,{key:e,variant:ae===e?"primary":"outline-primary",onClick:te.bind(null,e)},e)})))),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"})),l.a.createElement(f.a,null,l.a.createElement(m.a,{xs:"auto",className:"flex-fill"}),l.a.createElement(m.a,{xs:"auto"},"length"===ae?l.a.createElement(pe,null):"overall"===ae?l.a.createElement(de,null):"cheat"===ae?l.a.createElement(ve,null):l.a.createElement(Ee,null)),l.a.createElement(m.a,{xs:"auto",className:"flex-fill"})))));function de(){if(!n)return null;var e=P(n.words),a=P(L),t=e;return l.a.createElement(l.a.Fragment,null,["Matey","Swabby","Ensign","Coxwain","First Mate","Captain","Commodore","Admiral","Enlightened"].reverse().map((function(e,n){var r=t,c=Math.floor(t*(2/3));t=c-1;var s=c<=a&&a<=r,o=c<a;return l.a.createElement(f.a,{className:s?"rank-current":o?"rank-past":"rank-future"},l.a.createElement(m.a,null,c),l.a.createElement(m.a,null,s?a:""),l.a.createElement(m.a,null,r),l.a.createElement(m.a,null,e))})))}function Ee(){return n?l.a.createElement(l.a.Fragment,null,L.filter(R).length," / ",n.words.filter(R).length):null}function pe(){var e,a=[];null===n||void 0===n||n.words.forEach((function(e){var t=e.length;t in a||(a[t]={total:0,found:0,length:t}),a[t].total+=1})),L.forEach((function(e){var t=e.length;a[t].found+=1}));for(var t=null!==(e=h.a.max(h.a.map(a,"total")))&&void 0!==e?e:0,r=[],c=0;c<t;c++)r[c]=c;return l.a.createElement(l.a.Fragment,null,a.sort().map((function(e,a){var t=e.total,n=e.found,c=e.length;return l.a.createElement(f.a,{key:a},l.a.createElement(m.a,{xs:1},c),r.map((function(e){return l.a.createElement(m.a,{key:e,className:e<n?"marker-found":e<t?"marker-unfound":"marker-blank"})})))})))}function ve(){return l.a.createElement(l.a.Fragment,null,null===n||void 0===n?void 0:n.words.map((function(e){return l.a.createElement("span",{className:"m-1"},e)})))}}function O(e){return[e.island].concat(Object(s.a)(e.board)).join("")}function C(e){var a=e.board,t=e.play;return l.a.createElement(m.a,{xs:"auto",className:"board"},l.a.createElement(f.a,{className:"board-row-1"},l.a.createElement(S,{type:"sea",letter:a[0],play:t}),l.a.createElement(S,{type:"sea",letter:a[1],play:t}),l.a.createElement(S,{type:"sea",letter:a[2],play:t})),l.a.createElement(f.a,{className:"board-row-2"},l.a.createElement(m.a,{className:"sea"}),l.a.createElement(S,{type:"island",letter:a[3],play:t}),l.a.createElement(m.a,{className:"sea"})),l.a.createElement(f.a,{className:"board-row-3"},l.a.createElement(S,{type:"sea",letter:a[4],play:t}),l.a.createElement(S,{type:"sea",letter:a[5],play:t}),l.a.createElement(S,{type:"sea",letter:a[6],play:t})))}function S(e){var a=e.type,t=e.play,n=e.letter;return l.a.createElement(m.a,{className:a,key:n,onClick:t.bind(null,n),onKeyUp:console.log},n)}function P(e){return Array.isArray(e)?h.a.sumBy(e,P):e.length<=4?1:e.length-3+(R(e)?7:0)}function R(e){return 7===h.a.uniq(e).length}var A=function(){var e=l.a.useState({}),a=Object(o.a)(e,2),t=a[0],n=a[1],r=y(["puzzle"],void 0),c=Object(o.a)(r,3),u=c[0],m=c[1],d=c[2],E=y(["visitedPuzzleIds"],[]),p=Object(o.a)(E,3),b=p[0],x=p[1],N=p[2],j=l.a.useRef({done:!1}),w=l.a.useRef({firstRun:!0});w.current.firstRun&&(w.current.firstRun=!1,d(),N()),l.a.useEffect((function(){if(u){var e=O(u);b.includes(e)||x([].concat(Object(s.a)(b),[e]))}}),[u,b,x]),j.current.done||(j.current.done=!0,function(){return v.apply(this,arguments)}().then(n));var C=l.a.useCallback((function(){return t?h.a.flatten(Object.values(t)):[]}),[t]);return l.a.createElement(i.a,null,l.a.createElement("div",{className:"fixed"},u&&l.a.createElement(z,{puzzle:u,prevPuzzle:function(){if(u){var e=b.indexOf(O(u));if(e>0){var a=b[e-1],t=C().find((function(e){return a===O(e)}));return m(t)}}m(h.a.shuffle(C()).pop())},nextPuzzle:function(){if(u){var e=b.indexOf(O(u));if(e>0&&e<b.length-1){var a=b[e+1],t=C().find((function(e){return a===O(e)}));return m(t)}}m(h.a.shuffle(C()).pop())}}),l.a.createElement("hr",null),l.a.createElement(f.a,null,l.a.createElement(k.a,{title:"Choose a Puzzle"},Object.entries(t).map((function(e,a){return Object(o.a)(e,2)[1].map((function(e){var t=e.board,n=e.island,r=e.words;return l.a.createElement(g.a.Item,{key:"".concat(a,".").concat(n),onSelect:m.bind(null,e)},n.toUpperCase(),"+",t.join("").toUpperCase()," (",r.length," words)")}))}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.c31b9a07.chunk.js.map